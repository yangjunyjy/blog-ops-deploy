网络基础

```sh
https://zhuanlan.zhihu.com/p/445573907
https://www.cnblogs.com/maybe2030/p/4781555.html
```

网络层								ip地址

```sh
网络接口层 					MAC地址     基本数据单位为帧    主要的协议：以太网协议  主要设备：交换机

							最大传输单元MTU   以太网一般最大传输单元MTU大小是1500
							MAC地址：每一个设备都拥有唯一的MAC地址，共48位，使用十六进制表示
```

***

```sh
网络层的          目的是实现两个端系统之间的数据透明传送，具体功能包括寻址和路由选择、连接的建立、保持和终止等。数据交换技术是报文交换（基本上被分组所替代）：采用储存转发方式，数据交换单位是报文
与IP协议配套使用实现其功能的还有地址解析协议ARP、逆地址解析协议RARP、因特网报文协议ICMP、
ping命令使用的就是因特网报文协议ICMP
主要设备：路由器
```

```sh
IP地址范围
0.0.0.0-255.255.255.255
255.255.255.255是广播地址
127.0.0.1是本机环回地址
A类地址以0开头，第一个字节作为网络号，地址范围为：0.0.0.0~127.255.255.255；(modified @2016.05.31)

　　B类地址以10开头，前两个字节作为网络号，地址范围是：128.0.0.0~191.255.255.255;

　　C类地址以110开头，前三个字节作为网络号，地址范围是：192.0.0.0~223.255.255.255。

　　D类地址以1110开头，地址范围是224.0.0.0~239.255.255.255，D类地址作为组播地址（一对多的通信）；

　　E类地址以1111开头，地址范围是240.0.0.0~255.255.255.255，E类地址为保留地址，供以后使用。
　　
私有地址(private address)也叫专用地址，它们不会在互联网使用，只在本地使用。

　　A类私有地址：10.0.0.0/8，范围是：10.0.0.0~10.255.255.255

　　B类私有地址：172.16.0.0/12，范围是：172.16.0.0~172.31.255.255

　　C类私有地址：192.168.0.0/16，范围是：192.168.0.0~192.168.255.255
　　
　　
子网掩码24就表示
255.255.255.0
192.168.31.22
进行逻辑与运算后的结果
192.168.31.0      网络号，也就是网段
22	 			  表示这台的主机在网络中的编号
192.168.31.255    就是这个网段的广播地址
```

112.32.136.17     50台机器   192.168.1.1-192.168.1.50



192.168.1.33/25   255.255.255.0 

11100011                                      01000001

11111111.11111111.11111111.11110000

11100011                                      01000000

1111

192.168.1.32         网段             33-46    46

11000000.10101000.00011111.00010110    192.168.31.22的2进制

11111111.11111111.11111111.00000000    255.255.255.0的二进制

11000000.10101000.00011111.00000000    192.168.31.0   网段  255   11111111  这个网段的广播地址   1-254



11110000

11111111





192.168.31.46  ip地址

255.255.255.224 子网掩码

所在的网段  已经这个网段可以容纳多少台机器  这个网段广播地址是多少  机器的地址的范围 

11000000.10101000.00011111.00101110      192.168.31.169 二进制

11111111.11111111.11111111.11111000       255.255.255.248 二进制

11000000.10101000.00011111.00101000      192.168.31.40    41-46        192.168.31.47



10101001    169

11000000     192

10111111     128    192.168.31.128    192.168.31.191   129-190





11000000.10101000.00011111.00101100       192.168.31.44     网段45 46 47

11000000.10101000.00011111.00111111        32-63    32   63  33-62 30台机器



192.168.1.30  

11100000.10000000.11000000.11111000        ip地址3.6.3.6

11111111.11111111.11111111.11110000       子网掩码255.255.255.0

11100000.10000000.110000000.00000000      该ip地址所在的网段

3.6.3.0      3.6.3.6地址的网段

6               就表示3.6.3.6地址在3.6.3.0 网段的主机号

1-255     255是做为广播地址使用   实际可以用的主机地址1-254

1-15      



查看路由表

```sh
route -n
```



添加临时静态路由的命令

```sh
route add -net 22.22.22.0 netmask 255.255.255.0 gw 192.168.8.1
```

添加永久静态路由的命令

```sh
CentOS7永久静态路由需要写到 /etc/sysconfig/network-scripts/route-****** 文件中，故在/etc/sysconfig/network-scripts/下，新建文件名为route-*****的文件，（****代表网卡名）
比如添加两条静态路由：（网卡的设备名叫eth0）

[root@centos7 ~]# vim /etc/sysconfig/network-scripts/route-eth0
10.15.150.0/24 via 10.10.10.1 dev eth0
10.25.250.0/24 via 10.10.10.1 dev eth0

重启网络服务
systemctl restart network
```



添加虚拟IP地址的命令

```sh
ifconfig ens33:1 192.168.8.5 netmask 255.255.255.0 up
```





192.168.31.247

13.249.169.129

NAT转换

```sh
https://zhuanlan.zhihu.com/p/368394082
https://zhuanlan.zhihu.com/p/360753242
```

