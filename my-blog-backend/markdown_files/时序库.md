```shell
timescaledb-pg(时序库)
===========================
#载入镜像
docker load < timescaledb-ha.tar
#为docker服务打标签
docker tag 424 telepg:1.0
#启动命令(注意替换密码和dockerid)
docker run -p 18922:5432 -e POSTGRES_PASSWORD='S7uV4w@XxN' -v pgdata:/var/lib/postgresql/data -d telepg:1.0
#查看服务是否启动
docker ps
#拷贝数据库表结构文件至容器
docker cp cmdb_telepg.sql 48ebe040a783:/var/lib/postgresql/data/
#进入容器(root用户权限进入)
docker exec -it --user root 48ebe040a783 bash
#对文件进行赋权
chown postgres:postgres /var/lib/postgresql/data/cmdb_telepg.sql
#切换至postgres用户
su - postgres
#进入控制台
psql
#建库语句并生成toolkit插件(需同样切换至postgres用户，psql进入控制台)
create user cmdb_telepg with password 'S7uV4w@XxN';
create database cmdb_telepg owner cmdb_telepg;
grant all privileges on database cmdb_telepg to cmdb_telepg;
ALTER USER "cmdb_telepg" with superuser;
#切换到cmdb_telepg用户名下
\c - cmdb_telepg
CREATE EXTENSION timescaledb_toolkit;
#导入表结构
exit
#推出数据库，至root权限下
exit
cd /var/lib/postgresql/data/
psql -U cmdb_telepg -d cmdb_telepg -a -f cmdb_telepg.sql
#切换到cmdb_telepg数据库下
psql
\c - cmdb_telepg
#切换用户
exit
psql "host =127.0.0.1 port =5432 user =cmdb_telepg password='S7uV4w@XxN' dbname =cmdb_telepg"
```

